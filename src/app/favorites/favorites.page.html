<ion-header [translucent]="true" class="cinewave-header">
  <ion-toolbar color="dark" class="custom-toolbar">
    <ion-title>Meus Favoritos ‚ù§Ô∏è</ion-title>
    <ion-buttons slot="start">
      <ion-button (click)="goToHome()" fill="clear" class="nav-button">
        <ion-icon name="home" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="cinewave-content">
  <div class="favorites-container">
    @if (favorites.length === 0) {
      <div class="empty-state">
        <div class="empty-icon">‚ù§Ô∏è</div>
        <h2>Nenhum filme favoritado ainda</h2>
        <p>Adicione filmes aos favoritos para v√™-los aqui!</p>
        <ion-button color="primary" (click)="goToHome()" class="explore-button">
          Explorar Filmes
        </ion-button>
      </div>
    }

    @if (favorites.length > 0) {
      <div class="favorites-header">
        <h2 class="section-title">Meus Favoritos ({{ favorites.length }})</h2>
      </div>

      <!-- Grid de Favoritos -->
      <div class="favorites-grid">
        @for (movie of favorites; track movie.id) {
          <div class="favorite-card" (click)="goToMovieDetails(movie.id)">
            <div class="card-image-wrapper">
              <img
                class="movie-poster"
                [src]="'https://image.tmdb.org/t/p/w500' + movie.poster_path"
                [alt]="movie.title"
                (error)="$event.target.src='https://via.placeholder.com/500x750?text=Sem+Imagem'"
              />
              <div class="card-overlay">
                <ion-icon name="play-circle" class="play-icon"></ion-icon>
              </div>
              <div class="favorite-badge" (click)="removeFavorite(movie.id, $event)">
                <ion-icon name="heart" class="favorite-icon-filled"></ion-icon>
              </div>
            </div>
            <div class="card-info">
              <h3 class="movie-title">{{ movie.title }}</h3>
              <div class="movie-meta">
                <span class="rating">‚≠ê {{ movie.vote_average | number:'1.1-1' }}</span>
                <span class="release-date">üìÖ {{ movie.release_date | date:'dd/MM/yyyy' }}</span>
              </div>
            </div>
          </div>
        }
      </div>
    }
  </div>
</ion-content>
